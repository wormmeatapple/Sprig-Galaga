const player = "p";
const background = "o";
const alien = "a";
const bullet = "b";
let loop = "loop"
let difficulty = 900

setLegend(
  [player, bitmap`
................
................
................
.......332......
.......332......
.......332222...
....333333332...
....3663366322..
...33663366332..
...33333333332..
...33333333332..
...33......332..
...33......332..
................
................
................`],
  [background, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000`],
  [ alien, bitmap`
................
.........2......
..7...77772..72.
..7..777777..72.
..7777777777772.
..7777777777772.
....77777777....
.7..77777777..72
.7..77777777..72
.777733773377772
.777733773377772
....777777772...
.....7777772....
......77772.....
................
................`],
  [ bullet, bitmap`
................
................
................
................
................
.......99.......
.......99.......
.......99.......
.......99.......
.......99.......
.......99.......
................
................
................
................
................`],
)

setBackground(background)

setSolids([])

let level = 0
const levels = [
  map`
....a.a....
.....a.....
...........
...........
...........
...........
...........
...........
...........
.....p.....`
]

setMap(levels[level])

onInput("w", () => getFirst(player).y -= 1);
onInput("s", () => getFirst(player).y += 1);
onInput("a", () => getFirst(player).x -= 1);
onInput("d", () => getFirst(player).x += 1);

setInterval(moveAlien, difficulty)

function randomNum() {
  const number = Math.floor(Math.random() * 3) + 1;
  return number
}

function moveAlien() {
  getAll(alien).forEach(alien => {
    const move = randomNum();
    if (move == 1) {
      alien.x += 1;
    } else if (move == 2) {
      alien.x -= 1;
    } else {
      alien.y += 1;
    }
  });
}



setPushables({
  [ player ]: []
})

afterInput(() => {
  
})
