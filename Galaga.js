const player = "p";
const background = "o";
const alien = "a";
const bullet = "b";
let loop = "loop"

setLegend(
  [player, bitmap`
................
................
................
.......332......
.......332......
.......332222...
....333333332...
....3663366322..
...33663366332..
...33333333332..
...33333333332..
...33......332..
...33......332..
................
................
................`],
  [background, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000`],
  [ alien, bitmap`
................
.........2......
..7...77772..72.
..7..777777..72.
..7777777777772.
..7777777777772.
....77777777....
.7..77777777..72
.7..77777777..72
.777733773377772
.777733773377772
....777777772...
.....7777772....
......77772.....
................
................`],
  [ bullet, bitmap`
................
................
................
................
................
.......99.......
.......99.......
.......99.......
.......99.......
.......99.......
.......99.......
................
................
................
................
................`],
)

setBackground(background)

setSolids([])

let level = 0
const levels = [
  map`
.a.a.a.a.
a.a.a.a.a
.........
.........
.........
.........
.........
.........
.........
....p....`
]

setMap(levels[level])

onInput("w", () => getFirst(player).y -= 1);
onInput("s", () => getFirst(player).y += 1);
onInput("a", () => getFirst(player).x -= 1);
onInput("d", () => getFirst(player).x += 1);

onInput("i", () => moveAlien();


function moveAlien() {
  let ticker = 0
  const alienPos = getAll(alien)
  
  if (ticker == 0) {
    alien.x += 1
    ticker += 1
  }
  if (ticker == 1) {
    alien.x += 1
    ticker += 1
  }
  if (ticker == 2) {
    alien.y += 1
    ticker += 1
  }
  if (ticker == 3) {
    alien.x -= 1
    ticker += 1
  }
  if (ticker == 4) {
    alien.x -= 1
    ticker += 1
  }
}


setPushables({
  [ player ]: []
})

afterInput(() => {
  
})